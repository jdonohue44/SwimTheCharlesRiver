[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Swimming in the Charles River: Assessing Biological Swim Safety in Boston’s Urban Waterway",
    "section": "",
    "text": "1 Introduction\nThe movement to make urban waterways more accessible to swimmers is gaining momentum, with various initiatives underway in Boston and New York: Boston Charles River Swimming Club, Boston Charles River Swim Park Project, Boston City Splash, New York East River Plus Pool, and New York Hudson River Keeper.\nIn support of the revitalization of urban rivers as swimming destinations, this report focuses on the analysis of cyanobacteria levels in Boston’s Charles River. By assessing these levels, we aim to estimate the number of safe swimming days throughout the year. However, cyanobacteria concentration alone cannot fully determine water quality for swimming. A more holistic assessment, including sewage contamination data and further environmental analysis, is essential to ensure public safety.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "index.html#harmful-algal-blooms-habs-focus-of-this-analysis",
    "href": "index.html#harmful-algal-blooms-habs-focus-of-this-analysis",
    "title": "Swimming in the Charles River: Assessing Biological Swim Safety in Boston’s Urban Waterway",
    "section": "2.1 Harmful Algal Blooms (HABs) – focus of this analysis",
    "text": "2.1 Harmful Algal Blooms (HABs) – focus of this analysis\nHarmful Algal Blooms (HABs) occur when an excess of nitrogen and phosphorus in water promotes rapid algae growth. These nutrients often come from industrial and wastewater treatment plants, septic tanks, stormwater runoff, and nutrient-rich rainfall. The most common type of HAB is cyanobacteria, also known as blue-green algae. Cyanobacteria levels are the focus of this analysis.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "index.html#sewage-contamination-from-human-fecal-matter-data-not-available",
    "href": "index.html#sewage-contamination-from-human-fecal-matter-data-not-available",
    "title": "Swimming in the Charles River: Assessing Biological Swim Safety in Boston’s Urban Waterway",
    "section": "2.2 Sewage contamination from human fecal matter – data not available",
    "text": "2.2 Sewage contamination from human fecal matter – data not available\nSewage contamination in urban waters occurs when untreated or poorly treated sewage, containing human waste, enters rivers, lakes, and other water bodies. This can lead to health risks for humans and aquatic life due to harmful pathogens like Enterococci and E. coli. Common sources include leaks, combined sewer overflows (CSOs), and improper disposal.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Data Sources",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#data-sources",
    "href": "data.html#data-sources",
    "title": "2  Data",
    "section": "",
    "text": "2.1.1 Water Quality Buoy placed in the Lower Charles River\nEvery 15 minutes, this self-contained solar powered buoy takes measurements for temperature, dissolved oxygen, pH, specific conductance, turbidity, chlorophyll, and phycocyanin. The sensors on the buoy are located 1 meter below the water’s surface. The data are transmitted in real-time using telemetry for remote access. The data from this buoy is used to assess water quality conditions and to help track cyanobacteria (blue-green algae) blooms.\n\n\n\nCharles River Water Quality Buoy\n\n\n\n\n\nBuoy Location\n\n\n\n\n2.1.2 Visual Crossing Historical Weather Data API\nVisual Crossing is a provider of weather data and enterprise analysis tools to data scientists, business analysts, professionals, and academics. Founded in 2003, this weather data API leads the industry by providing the lowest-cost access to all types of historical weather data, weather forecasts, climate summaries, and historical weather forecasts.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-data-analysis",
    "href": "data.html#missing-data-analysis",
    "title": "2  Data",
    "section": "2.2 Missing Data Analysis",
    "text": "2.2 Missing Data Analysis\n\nFecal bacteria data is not recorded by the Charles River Buoy (e.g. enterococci samples).\nPeak COVID pandemic years are missing data reporting by the Charles River Buoy (2020-2021).",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 How many days of the year are cyanobacteria levels safe for swimming in the Charles River?\nIn 2024, between May and October 2024, cyanobacteria levels were low risk on 51 days (34%), medium risk on 41 days (27%), and high risk on 58 days (39%).\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(lubridate)\n\n# DAILY 2024\nwater2024&lt;-read.csv('./data/crbuoy2024.csv')\nwater2024_summary &lt;- water2024 |&gt; \n  select(date, temp.c, `do..mg.l.`, `est.chl.a..ug.l.`, `est..cyano..cells.ml.`) |&gt; \n  group_by(date) |&gt; \n  summarize(\n    avg_temp = mean((temp.c * 9/5) + 32, na.rm = TRUE), \n    avg_oxygen = mean(`do..mg.l.`, na.rm = TRUE),\n    avg_chloro = mean(`est.chl.a..ug.l.`, na.rm = TRUE),\n    avg_est_cyano = mean(`est..cyano..cells.ml.`, na.rm = TRUE)\n  )\nwater2024_summary$date &lt;- as.Date(water2024_summary$date, format = \"%m/%d/%Y\")\n\nwater2024_summary &lt;- water2024_summary |&gt;\n  mutate(\n    hab_risk = case_when(\n      avg_est_cyano &lt; 20000 ~ \"Low Risk\",\n      avg_est_cyano &gt;= 20000 & avg_est_cyano &lt; 70000 ~ \"Medium Risk\",\n      avg_est_cyano &gt;= 70000 ~ \"High Risk\"                       \n    ),\n    hab_risk = factor(hab_risk, levels = c(\"Low Risk\", \"Medium Risk\", \"High Risk\"))\n  )\n\n# Count the number of days for each risk category\nrisk_counts &lt;- water2024_summary |&gt;\n  count(hab_risk)\n\ntotal_count &lt;- sum(risk_counts$n)\nrisk_counts &lt;- risk_counts |&gt;\n  mutate(\n    percentage = (n / total_count) * 100  # Calculate percentage for each category\n  )\n\nggplot(risk_counts, aes(x = hab_risk, y = n, fill = hab_risk)) +\n  geom_bar(stat = \"identity\", show.legend = FALSE) +\n  geom_text(aes(label = paste0(round(percentage, 1), \"%\")), vjust = -0.5) +  # Add percentage labels\n  scale_fill_manual(values = c(\"Low Risk\" = \"lightgreen\", \"Medium Risk\" = \"yellow\", \"High Risk\" = \"pink\", \"Unknown\" = \"gray\")) +\n  labs(\n    title = \"Number of Risk Days Based on Cyanobacteria Levels\",\n    x = \"Risk Category\",\n    y = \"Number of Days\"\n  ) +\n  theme_minimal()",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#how-many-days-of-the-year-are-cyanobacteria-levels-safe-for-swimming-in-the-charles-river",
    "href": "results.html#how-many-days-of-the-year-are-cyanobacteria-levels-safe-for-swimming-in-the-charles-river",
    "title": "3  Results",
    "section": "",
    "text": "3.1.1 Estimated Cyanobacteria Levels\nCyanobacteria levels increased throughout the course of the summer, suggesting that it may be safer to swim in the earlier summer months than the later months.\n\n\nCode\nggplot(water2024_summary, aes(x = date, y = avg_est_cyano)) +\n  geom_rect(aes(xmin = min(date), xmax = max(date),\n                ymin = 0, ymax = 20000),\n            fill = \"lightgreen\", alpha = 0.05) +\n  geom_rect(aes(xmin = min(date), xmax = max(date),\n                ymin = 20000, ymax = 70000),\n            fill = \"yellow\", alpha = 0.05) +\n  geom_rect(aes(xmin = min(date), xmax = max(date),\n                ymin = 70000, ymax = Inf),\n            fill = \"pink\", alpha = 0.05) +\n  geom_line() +\n  geom_point() +\n  geom_hline(yintercept = 20000, linetype = \"dashed\", color = \"yellow\") +\n  geom_hline(yintercept = 70000, linetype = \"dashed\", color = \"pink\") +\n  annotate(\"text\", x = min(water2024_summary$date), y = 7000,\n           label = \"Low Risk\", hjust = 0) +\n  annotate(\"text\", x = min(water2024_summary$date), y = 25000,\n           label = \"Medium Risk\", hjust = 0) +\n  annotate(\"text\", x = min(water2024_summary$date), y = 75000,\n           label = \"High Risk\", hjust = 0) +\n  scale_y_continuous(\n    labels = scales::comma,\n    breaks = seq(0, max(water2024_summary$avg_est_cyano), by = 10000)\n    ) +\n  labs(title = \"2024 Charles River Estimated Cyanobacteria Levels\",\n       x = \"Date\",\n       y = \"Cyanobacteria Cells/mL\") +\n  theme_bw() +\n  scale_x_date(date_labels = \"%b %d\", date_breaks = \"15 day\")\n\n\n\n\n\n\n\n\n\n\n\n3.1.2 Water Temperature\nAnother simple factor affecting a swimmer’s decision to enter urban waters is water temperature. Good news! For all of June, July, and August the surface water temperature was above 70 degrees Fahrenheit. For swimming in May or September, a 2-3mm wetsuit is recommended. In October, a 4-5mm wetsuit is recommended.\n\n\nCode\nggplot(water2024_summary, aes(x = date, y = avg_temp)) +\n  geom_rect(aes(xmin = min(date), xmax = max(date), \n                ymin = 70, ymax = Inf), \n            fill = \"cadetblue1\", alpha = 0.01) +\n  geom_rect(aes(xmin = min(date), xmax = max(date), \n                ymin = 60, ymax = 70), \n            fill = \"#17c3b2\", alpha = 0.01) +\n  geom_rect(aes(xmin = min(date), xmax = max(date), \n                ymin = 50, ymax = 60), \n            fill = \"#1f77b4\", alpha = 0.01) +\n  geom_line() +\n  geom_point() +\n    geom_hline(yintercept = 70, linetype = \"dashed\", color = \"blue\") +\n  geom_hline(yintercept = 60, linetype = \"dashed\", color = \"blue\") +\n  geom_hline(yintercept = 50, linetype = \"dashed\", color = \"blue\") +\n    annotate(\"text\", x = min(water2024_summary$date), y = 71, \n           label = \"no wetsuit needed\", hjust = 0) +\n  annotate(\"text\", x = min(water2024_summary$date), y = 61, \n           label = \"2-3mm wetsuit recommended\", hjust = 0) +\n  annotate(\"text\", x = min(water2024_summary$date), y = 51, \n           label = \"4-5mm wetsuit recommended\", hjust = 0) +\n  scale_y_continuous(breaks = seq(0, max(water2024_summary$avg_temp), by = 5)) +\n  labs(title = \"2024 Charles River Water Temperature\", \n       x = \"Date\", \n       y = \"Temperature (F)\") +\n  theme_bw() +\n  scale_x_date(date_labels = \"%b %d\", date_breaks = \"15 day\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#is-rainfall-correlated-with-water-quality",
    "href": "results.html#is-rainfall-correlated-with-water-quality",
    "title": "3  Results",
    "section": "3.2 Is rainfall correlated with water quality?",
    "text": "3.2 Is rainfall correlated with water quality?\nOverall, while there is some evidence of a relationship between precipitation and cyanobacteria levels, precipitation alone does not explain much of the variation in cyanobacteria levels. Other factors (e.g., nutrients, temperature) might play a more substantial role in driving variations in cyanobacteria.\nRainfall alone is not a strong predictor of cyanobacteria levels. The Spearman correlation of -0.2927 indicates a weak negative correlation between precipitation (precip) and cyanobacteria levels (avg_est_cyano). This suggests that, in general, as precipitation increases, cyanobacteria levels tend to decrease slightly, but the relationship is weak.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(lubridate)\nlibrary(scales)\n\nweather2024&lt;-read.csv('./data/weather2024daily.csv')\nweather2024&lt;-weather2024 |&gt; \n  select(datetime,temp,precip)\nweather2024$date&lt;-as.Date(weather2024$datetime, format = \"%Y-%m-%d\")\n\nweather_and_water_2024&lt;-merge(water2024_summary, weather2024, by = 'date')\n\nggplot(weather_and_water_2024, aes(x = date)) +\n  geom_col(aes(y = precip, color = \"Precipitation\")) +\n  geom_line(aes(y = avg_est_cyano / 75000, color = \"Avg Est Cyano\")) +\n  scale_y_continuous(\n    name = \"Precipitation (inches)\",\n    limits = c(0, 2),\n    breaks = seq(0, 2, 0.5),\n    sec.axis = sec_axis(~.*75000, name = \"Avg Est Cyano\", \n                        breaks = seq(0, 150000, 30000))\n  ) +\n  scale_color_manual(values = c(\"Precipitation\" = \"blue\", \"Avg Est Cyano\" = \"chartreuse2\")) +\n  labs(title = \"Precipitation and Avg Est Cyano over Time\",\n       x = \"Date\",\n       color = \"Variable\") +\n  theme_minimal() +\n  theme(axis.title.y.right = element_text(color = \"chartreuse2\"),\n        axis.title.y.left = element_text(color = \"blue\"))\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(weather_and_water_2024, aes(x = precip, y = avg_est_cyano)) +\n  geom_point() +  # Scatter plot to visualize the relationship\n  geom_smooth(method = \"loess\", color = \"blue\") +  # Adding a smooth curve to visualize trends\n  labs(title = \"Precipitation vs Cyanobacteria Levels\",\n       x = \"Daily Precipitation (inches)\", \n       y = \"Cyanobacteria Levels (cells/mL)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nCode\n# Histogram for precipitation\nggplot(weather_and_water_2024, aes(x = precip)) + \n  geom_histogram(binwidth = 0.1, fill = \"skyblue\", color = \"black\") +\n  labs(title = \"Distribution of Precipitation (inches)\", x = \"Precipitation (inches)\", y = \"Count\")\n\n\n\n\n\n\n\n\n\nCode\n# Histogram for cyanobacteria levels\nggplot(weather_and_water_2024, aes(x = avg_est_cyano)) + \n  geom_histogram(binwidth = 5000, fill = \"orange\", color = \"black\") +\n  labs(title = \"Distribution of Cyanobacteria Levels\", x = \"Cyanobacteria (cells/mL)\", y = \"Count\")\n\n\n\n\n\n\n\n\n\nCode\nweather_and_water_2024$log_cyano &lt;- log(weather_and_water_2024$avg_est_cyano + 1)  # Adding 1 to avoid log(0)\n\nlm_model &lt;- lm(avg_est_cyano ~ precip, data = weather_and_water_2024)\n\nlibrary(mgcv)\ngam_model &lt;- gam(avg_est_cyano ~ s(precip), data = weather_and_water_2024)\n\ncor_test &lt;- cor.test(weather_and_water_2024$precip, weather_and_water_2024$avg_est_cyano, method = \"spearman\", use = \"complete.obs\")\ncor_test$p.value\n\n\n[1] 0.0004086186\n\n\n\n\nCode\n# Lag precipitation by a day\n# weather_and_water_2024$lag_1_precip &lt;- lag(weather_and_water_2024$precip, n = 1)\n# cor_1_day_lag_spearman &lt;- cor(weather_and_water_2024$lag_1_precip, weather_and_water_2024$avg_est_cyano, method = \"spearman\", use = \"complete.obs\")\n# print(paste(\"Spearman correlation with 1-day lag:\", cor_1_day_lag_spearman))\n\ncor_spearman&lt;-cor(weather_and_water_2024$precip, weather_and_water_2024$avg_est_cyano, method = \"spearman\", use = \"complete.obs\")\n\nggplot(weather_and_water_2024, aes(x = precip, y = avg_est_cyano)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"blue\") +\n  labs(title = \"Precipitation vs Cyanobacteria Levels\", \n       x = \"Precipitation (mm)\", \n       y = \"Cyanobacteria Levels (cells/mL)\")\n\n\n\n\n\n\n\n\n\nCode\ncor_test &lt;- cor.test(weather_and_water_2024$precip, weather_and_water_2024$avg_est_cyano, method = \"spearman\", use = \"complete.obs\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "4  Conclusion",
    "section": "",
    "text": "4.1 Future Work",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#future-work",
    "href": "conclusion.html#future-work",
    "title": "4  Conclusion",
    "section": "",
    "text": "Collect fecal bacteria data, either through remote sensors or manual sampling. Certain microorganisms found in fecal matter (e.g. enterococci) are an EPA-approved fecal contamination indicator useful for detecting the presence of disease-causing bacteria, viruses, and protozoa. These pathogens can sicken swimmers and others who use rivers and streams for recreation or eat raw shellfish or fish. Other potential health effects can include diseases of the skin, eyes, ears and respiratory tract. Eating fish or shellfish harvested from waters with fecal contamination can also result in human illness.\nConduct a qualitative research survey on swimmers living in Boston. Key questions to answer:\n\n\nHow do urban swimmers perceive their local urban river water quality?\nWhat are the top deterrents preventing swimmers from swimming in the Charles River?",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  },
  {
    "objectID": "conclusion.html#references-and-further-reading",
    "href": "conclusion.html#references-and-further-reading",
    "title": "4  Conclusion",
    "section": "4.2 References and Further Reading",
    "text": "4.2 References and Further Reading\n\nSensor-based detection of algal blooms for public health advisories and long-term monitoring\nCharles River Conservancy Swim Park Project / Urban River Swimming: Six American Initiatives\nEPA Charles River Buoy Information\nRiver Keeper Testing Methodology\nHudson River Estuary Data\nSave The Boston Harbor Report Card\nCharles River Watershed Association Water Quality Data\nCDC Harmful Algal Blooms",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Conclusion</span>"
    ]
  }
]